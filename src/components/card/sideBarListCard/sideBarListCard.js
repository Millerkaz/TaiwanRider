import React from "react";
import Wkt from "wicket";
import { action } from "../../../store";
import { useDispatch, useSelector } from "react-redux";
import { map } from "../../leafletMap/leafletMap";
import img from "../../../img";

import "./sideBarListCard.scss";

const wkt = new Wkt.Wkt();

const listClickHandler = (props, dispatch) => {
  map.setView(props.coords, 18);
  // layer.openPopup(props.coords);
  document
    .querySelectorAll(".pin--restaurant")
    .forEach((ele) => ele.classList.remove("icon--active"));
  document
    .querySelector(`.pin--restaurant--${props.id}`)
    .classList.add("icon--active");
  dispatch(action.selectRestaurantCreator(props.id));
};

const SideBarListCard = () => {
  const dispatch = useDispatch();

  const props = {
    RouteName: "「宜蘭縣礁溪鄉二龍競渡環線自行車道工程」",
    AuthorityName: "礁溪鄉公所",
    CityCode: "ILA",
    City: "宜蘭縣",
    Town: "礁溪鄉",
    RoadSectionStart: "礁溪龍泉橋",
    RoadSectionEnd: "礁溪龍泉橋",
    Direction: "雙向",
    CyclingLength: 17720,
    FinishedTime: "1060712",
    UpdateTime: "2021-11-16T00:00:06+08:00",
    Geometry:
      "MULTILINESTRING ((121.818809995484 24.8297309978544,121.818575002369 24.8300690015852,121.818468997573 24.8301479990735,121.818326997259 24.8301960018271,121.818067996974 24.8302140037341,121.816736999904 24.8303439985948,121.814711001918 24.8305379965301,121.81442199811 24.8305109976268,121.814168002672 24.8304610027974,121.813947997899 24.8303670005884,121.813517996257 24.8301450044829,121.813074999844 24.8298809982878),(121.81307700113 24.8298859979414,121.812532002866 24.8276890003533,121.812365004213 24.8274640001973,121.812131997086 24.8272410014972,121.81190499865 24.827064003559,121.811583997784 24.8269560019702,121.811247003598 24.8268619986099,121.810427003418 24.8266159997557,121.809554002131 24.8262039964825,121.808181999679 24.8255239992537,121.807962996704 24.8253429976293,121.807628998155 24.8251180004287,121.807343997472 24.8248610044399,121.80718600337 24.8247869971782,121.806978996745 24.8247990023224,121.806716998792 24.8248690019039,121.806401995987 24.8249540025649,121.806138999931 24.824983001298,121.805736995129 24.8249519992229,121.805539002936 24.8249660031631,121.80530999799 24.8249829996445,121.805061003925 24.8249499979288,121.803177000104 24.8245280039433,121.802652002208 24.8243980028808,121.801616002525 24.8241250010233,121.800391998873 24.8236800034048,121.798821003765 24.8230169992135,121.798719997045 24.8229709993066,121.798500003803 24.8225710048956,121.798231997787 24.8227640014808,121.797653998645 24.8226260048621,121.794739000985 24.8215820051807,121.7937960029 24.82118900401,121.793450002028 24.8210960007753,121.793146003555 24.8209859998683,121.791592998537 24.8227829987831,121.790825996558 24.8235499984326,121.789981998917 24.8231840033058,121.789777996831 24.8230519986255,121.789556004817 24.8228549964928,121.788876003671 24.822108996381,121.788673004768 24.8222739983214,121.788081997852 24.8216619976693,121.788072998659 24.8215170005773,121.786317004395 24.8213709982031,121.784214996854 24.8211960044441,121.783334000475 24.8240500000613,121.781941000611 24.8285990025515,121.781783001176 24.8291560013524,121.780620996914 24.8289280030713,121.777605997315 24.8281400021042,121.777148001998 24.8280260028836,121.776928002566 24.827827996524,121.774529003131 24.8250210001281,121.773990000672 24.8254190034247,121.773805995074 24.8256470024167,121.773735998739 24.8257970046937,121.773706996668 24.8260410025839,121.773635003543 24.8262119963485,121.773403998877 24.8264100030728),(121.818815001388 24.8297189993253,121.819715002706 24.8280359991653,121.819819002403 24.8277460006417,121.819782999524 24.8275349972834,121.819725002466 24.8273369974378,121.819612004331 24.8270970029496,121.819314003613 24.8267689972488,121.817537001726 24.8249620030536,121.817136995767 24.8245559978017,121.816969999163 24.8243530039984,121.816689998051 24.8239709971823,121.816488995751 24.8236309990613,121.815610003361 24.8221179996764,121.814678002491 24.8205400016818,121.814346000131 24.8198530002613,121.814078002276 24.8192629985682,121.813719001358 24.8182230028819,121.813572999524 24.8181200021925,121.813085001559 24.817878999169,121.8128559964 24.8178210022331,121.812709997541 24.8178319973492,121.812191999351 24.8177880011382,121.811569001691 24.8177380005582,121.811252003447 24.8176910052844,121.811063003059 24.8176119970521,121.810688997774 24.8174339972563,121.810500003567 24.81725699819,121.810324002514 24.8170260041365,121.809847997271 24.8162910025386,121.809474000077 24.8156809998336,121.809188996221 24.8153429982924,121.808128996227 24.8140989985346,121.807848003184 24.8139330015224,121.807606995985 24.8138470020512,121.807289003991 24.8138800008047,121.807030999458 24.8139719983702,121.806857998652 24.8141140036212,121.806701002792 24.8143570001094,121.806583003202 24.8146969999021,121.806105003673 24.8157710046493,121.805957997838 24.8159900042147,121.805810998277 24.8161289972677,121.805668997925 24.8162350019383,121.805513 24.816321003544,121.805357000364 24.8163930025355,121.805137003885 24.8164499982601,121.803070996947 24.8167540023365,121.802836998487 24.8167689992896,121.802584002976 24.8167310039983,121.802389000973 24.8166790016324,121.802149002754 24.8165809987918,121.80192199935 24.816460996801,121.801719002044 24.816287004554,121.800326003001 24.814759997803,121.799402996479 24.8136369983743,121.798884999193 24.8130359979863,121.79868300045 24.8127569999408,121.798439002971 24.8123080021333,121.797872000395 24.8110590011001,121.797592997589 24.8107310016452,121.797335003018 24.8105139977589,121.79698599603 24.810290003117,121.796582995606 24.8100290003162,121.796380999522 24.8098030024849,121.79624100176 24.809591001874,121.796082997621 24.80927599667,121.795882999445 24.8089179974433,121.795653998525 24.80864000524,121.795487002945 24.8084809976174,121.795322997154 24.8083889981233,121.795119998245 24.808312002671,121.794895995602 24.8082450042568,121.794679995195 24.8081920016079,121.794295000571 24.8081579972626,121.793451004236 24.8081640018799,121.79287600379 24.8082619985461,121.792691996742 24.8083420052464,121.792524003606 24.8084330043056,121.791966999769 24.8089150006184,121.791470004818 24.8094069964858,121.791009998276 24.8096869970715,121.790680995919 24.8098140006465,121.790298998531 24.809854000287,121.78995800057 24.809837998111,121.789604004098 24.8098029965195,121.789227998411 24.8096990004526,121.787594004328 24.808859002102,121.787307997194 24.8087700013408,121.787175001831 24.808773003385,121.786977002717 24.8087760042269,121.786793998558 24.8087900033694,121.786540996112 24.8087790014983,121.786296997603 24.8087339973406,121.786030995404 24.8086189964854,121.784099002802 24.807462998566,121.783820001496 24.8073389976216,121.783470001315 24.807201997421,121.783076995834 24.8071089985891,121.782411997407 24.8069460004306,121.781548002117 24.8067349985294,121.781324995725 24.8067670032607,121.781204998029 24.806833002165,121.781124998296 24.8069210011873,121.780927002933 24.8067899993428,121.780666998395 24.806551002034,121.780559000381 24.8064910052569,121.780309002331 24.8064330040124,121.778806997875 24.8060370049252,121.778599000952 24.8060460051703,121.778531001137 24.806019003984,121.778334997881 24.8059070013697,121.778058000697 24.8058380051608,121.777706996467 24.8057999983362,121.777338999091 24.8058110021196,121.777035997562 24.8058669974048,121.775537000839 24.8062220043319,121.773466000409 24.8066700008495,121.773189997375 24.8068599970657,121.772975000402 24.8067900029136,121.772725996412 24.8067930046022,121.77244099515 24.8067570008436,121.772307002514 24.8067760015704,121.771869004616 24.8066449985125,121.771727002796 24.8065270027793,121.771263996072 24.8059729987034,121.771029003359 24.8058280001452,121.770842995693 24.8058389978818,121.769658004161 24.8062180038617,121.769037003114 24.8064159963739,121.768866000285 24.8065009990165,121.768242003577 24.8069580014245,121.767956999799 24.8070820029337,121.767822001314 24.8071369998081,121.767604995837 24.807300998168,121.766987999548 24.8075790047872,121.766708998876 24.8076759972542,121.766407001859 24.8077570009117,121.766157004957 24.8078740034932,121.765931998852 24.8080790008884,121.765782995993 24.8083099980173,121.765675000512 24.8085490006796,121.76563000371 24.8088689968384,121.765652001911 24.8091460014072,121.765778000294 24.8094850021403,121.765939997134 24.8097490026686,121.766771998911 24.8114819965375,121.767006001559 24.8120709987225,121.767075003059 24.8124100014643,121.767167997619 24.8128480004007,121.767365995586 24.8151580016025,121.767365997105 24.8154650013894,121.767311004358 24.8157500020171,121.767152999568 24.8161039999743,121.766953000212 24.8163609987838,121.766755001955 24.8165270021095,121.765176998862 24.8176629977851,121.764720002234 24.8180049986433,121.763367996278 24.818932002549,121.762959000267 24.8195089977853,121.761936997045 24.8208510051324,121.759913003039 24.822466000212,121.761118995508 24.823334001251,121.761396004724 24.8236879992903,121.762311996261 24.8249260015808,121.762687999266 24.8253630019572,121.763458001278 24.8259310006126,121.765217002759 24.8272370008612,121.766069004789 24.8278930047043,121.767533998751 24.8289000015559,121.767910001577 24.8289999975666,121.768821000611 24.829004000584,121.770036004195 24.8289669980042,121.770530004739 24.8290280013068,121.771362003521 24.8290340029617,121.773795002993 24.8267929995119,121.773394996284 24.8263939977556))",
  };

  return (
    <div
      className={`sideBarListCard`}
      onClick={function () {
        wkt.read(props.Geometry);
        dispatch(action.selectRoadCreator(wkt.toJson(), props));
      }}
    >
      <div>
        <h1>{props.RouteName}</h1>
        <span>
          {props.City}/{props.Town}
        </span>
      </div>
      <span>起</span>
      <p>{props.RoadSectionStart}</p>
      <span>迄</span>
      <p>{props.RoadSectionEnd}</p>
      <div>
        <span>{props.Direction}</span>
        <span>
          <img src={img.i_route} />
          總長{props.CyclingLength}公尺
        </span>
      </div>
    </div>
  );
};

export default SideBarListCard;
